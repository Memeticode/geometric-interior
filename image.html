<!doctype html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Image Editor — Geometric Interior</title>
    <meta name="description" content="Generative geometric art exploring the interior geometry of a predictive model. Real-time WebGL rendering of crystalline self-portraits." />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Geometric Interior: Self-Portraits of a Predictive Model" />
    <meta property="og:description" content="Generative geometric art exploring the interior geometry of a predictive model. Real-time WebGL rendering of crystalline self-portraits." />
    <meta property="og:image" content="https://geometric-interior.org/og-image.png" />
    <meta property="og:url" content="https://geometric-interior.org" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Geometric Interior: Self-Portraits of a Predictive Model" />
    <meta name="twitter:description" content="Generative geometric art exploring the interior geometry of a predictive model." />
    <meta name="twitter:image" content="https://geometric-interior.org/og-image.png" />

    <link id="favicon" rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect x='3' y='9' width='18' height='18' rx='2' fill='%23b482ff' opacity='.35' transform='rotate(-12 12 18)'/%3E%3Crect x='11' y='5' width='18' height='18' rx='2' fill='%23b482ff' opacity='.55' transform='rotate(8 20 14)'/%3E%3Crect x='7' y='7' width='16' height='16' rx='2' fill='%23b482ff' opacity='.9' transform='rotate(-3 15 15)'/%3E%3C/svg%3E" />

    <script src="/src/shared/early-detect.js"></script>

    <link rel="stylesheet" href="/css/image-page.css" />

    <!-- JSZip for ZIP exports -->
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js" async></script>
</head>

<body>
    <div class="app-container">
    <header class="app-header"></header>

    <div class="app-body">
        <script>
            if (localStorage.getItem('geo-self-portrait-panel-collapsed') === 'false') {
                document.write('<aside class="panel no-transition" aria-label="Controls panel" aria-hidden="false">');
            } else {
                document.write('<aside class="panel panel-collapsed no-transition" aria-label="Controls panel" aria-hidden="true">');
            }
        </script>
            <section id="imageModeSection">
                <div id="activeSection">
                    <div class="active-section-title">
                        <span class="collapsible-label" data-i18n="active.title">Active</span>
                    </div>
                    <div class="active-card" id="activeCard">
                        <div class="active-card-main">
                            <div class="thumb-wrap thumb-loading">
                                <img class="active-preview-thumb" id="activePreviewThumb" />
                            </div>
                            <div class="active-card-info">
                                <div class="active-card-body">
                                    <div class="active-status-label" id="activeStatusLabel" data-i18n="active.unsaved">Unsaved</div>
                                    <div class="active-preview-name" id="activePreviewName" data-i18n="active.untitled">Untitled</div>
                                    <div class="active-preview-seed" id="activePreviewSeed"></div>
                                </div>
                            </div>
                            <div class="active-card-actions">
                                <button id="saveProfile" class="active-save-btn" disabled data-tooltip="Save as user profile (local storage)" data-i18n-tooltip="profile.save.tooltip">
                                    <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14"><path d="M3 1h8l3 3v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2z"/><path d="M5 1v4h6V1"/><rect x="4" y="9" width="8" height="4"/></svg>
                                </button>
                                <button id="resetProfile" class="active-save-btn active-reset-btn" disabled data-tooltip="Reset changes" data-i18n-tooltip="profile.reset.tooltip">
                                    <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14"><path d="M1 3v4h4"/><path d="M2.5 10.5a6 6 0 1 0 1.5-6.5L1 7"/></svg>
                                </button>
                                <span class="collapsible-chevron active-card-chevron" id="activeCardToggle" aria-expanded="false" data-tooltip="Open Configuration" data-i18n-tooltip="activeCard.openConfig">&#9662;</span>
                            </div>
                        </div>
                        <!-- configControls inserted here by JS -->
                    </div>
                </div>

                <div class="gallery-wrapper">
                    <div class="gallery-header" id="galleryToggle" aria-expanded="true">
                        <span class="collapsible-label" data-i18n="gallery.imageGallery">Image Gallery</span>
                        <span class="gallery-header-right">
                            <span class="collapsible-chevron">&#9662;</span>
                        </span>
                    </div>
                    <div id="galleryContent">
                        <div class="gallery-section">
                            <div class="gallery-section-header" data-target="portraitGallery" aria-expanded="true">
                                <span class="gallery-section-label" data-i18n="gallery.portraits">Portraits</span>
                                <span class="collapsible-chevron">&#9662;</span>
                            </div>
                            <div id="portraitGallery" class="profile-gallery"></div>
                        </div>
                        <div class="gallery-section">
                            <div class="gallery-section-header" data-target="userGallery" aria-expanded="true">
                                <span class="gallery-section-label" data-i18n="gallery.savedLocal">Saved (local)</span>
                                <span class="collapsible-chevron">&#9662;</span>
                            </div>
                            <div id="userGallery" class="profile-gallery"></div>
                        </div>
                    </div>
                </div>

                <div id="configControls" style="display:none">

                <div class="row">
                    <label><span class="label-info" data-tooltip="A name for this arrangement of light and form." data-label="Name" data-i18n="control.name" data-i18n-tooltip="control.name.tooltip" data-i18n-label="control.name">Name<span class="info-icon">i</span></span></label>
                    <textarea id="profileNameField" class="auto-grow" rows="1" maxlength="40"
                        placeholder="e.g. Violet Crystalline" data-i18n-placeholder="control.name.placeholder"></textarea>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="A three-word compositional seed. Each word controls an independent random stream and visual bias." data-label="Seed" data-i18n="control.seed" data-i18n-tooltip="control.seed.tooltip" data-i18n-label="control.seed">Seed<span class="info-icon">i</span></span></label>
                    <div class="seed-tag-row" id="seedTagRow">
                        <select id="seedTagArr" class="seed-tag-select"></select>
                        <span class="seed-tag-sep">&middot;</span>
                        <select id="seedTagStr" class="seed-tag-select"></select>
                        <span class="seed-tag-sep">&middot;</span>
                        <select id="seedTagDet" class="seed-tag-select"></select>
                    </div>
                </div>

                <div class="param-heading" data-i18n="params.heading">Parameters</div>

                <!-- ── Geometry ── -->
                <div class="param-section-header">
                    <span class="label-info" data-tooltip="The physical character of forms &mdash; their abundance, fragmentation, granularity, topology, and crystal quality." data-i18n="section.geometry" data-i18n-tooltip="section.geometry.tooltip">Geometry<span class="info-icon">i</span></span>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="How thickly forms crowd the void." data-label="Density" data-i18n="control.density" data-i18n-tooltip="control.density.tooltip" data-i18n-label="control.density">Density<span class="info-icon">i</span></span> <span id="densityLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="densityTrack"></div>
                        <input id="density" type="range" min="0" max="1" step="0.01" value="0.50" />
                    </div>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="How forms break and splinter through space." data-label="Fracture" data-i18n="control.fracture" data-i18n-tooltip="control.fracture.tooltip" data-i18n-label="control.fracture">Fracture<span class="info-icon">i</span></span> <span id="fractureLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="fractureTrack"></div>
                        <input id="fracture" type="range" min="0" max="1" step="0.01" value="0.50" />
                    </div>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="The relative magnitude of forms — monumental to atmospheric." data-label="Scale" data-i18n="control.scale" data-i18n-tooltip="control.scale.tooltip" data-i18n-label="control.scale">Scale<span class="info-icon">i</span></span> <span id="scaleLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="scaleTrack"></div>
                        <input id="scale" type="range" min="0" max="1" step="0.01" value="0.50" />
                    </div>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="How the envelope subdivides into lobes and grooves." data-label="Division" data-i18n="control.division" data-i18n-tooltip="control.division.tooltip" data-i18n-label="control.division">Division<span class="info-icon">i</span></span> <span id="divisionLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="divisionTrack"></div>
                        <input id="division" type="range" min="0" max="1" step="0.01" value="0.50" />
                    </div>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="The angularity of folded surfaces — flat panels to sharp shards." data-label="Faceting" data-i18n="control.faceting" data-i18n-tooltip="control.faceting.tooltip" data-i18n-label="control.faceting">Faceting<span class="info-icon">i</span></span> <span id="facetingLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="facetingTrack"></div>
                        <input id="faceting" type="range" min="0" max="1" step="0.01" value="0.50" />
                    </div>
                </div>

                <!-- ── Light ── -->
                <div class="param-section-header">
                    <span class="label-info" data-tooltip="The energy and radiance of the scene." data-i18n="section.light" data-i18n-tooltip="section.light.tooltip">Light<span class="info-icon">i</span></span>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="The inner radiance of the scene." data-label="Luminosity" data-i18n="control.luminosity" data-i18n-tooltip="control.luminosity.tooltip" data-i18n-label="control.luminosity">Luminosity<span class="info-icon">i</span></span> <span id="luminosityLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="luminosityTrack"></div>
                        <input id="luminosity" type="range" min="0" max="1" step="0.01" value="0.50" />
                    </div>
                </div>

                <!-- ── Color ── -->
                <div class="param-section-header">
                    <span class="label-info" data-tooltip="The chromatic identity of the emitted light &mdash; hue, spectral range, and intensity." data-i18n="section.color" data-i18n-tooltip="section.color.tooltip">Color<span class="info-icon">i</span></span>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="Where on the spectrum the light begins." data-label="Hue" data-i18n="control.hue" data-i18n-tooltip="control.hue.tooltip" data-i18n-label="control.hue">Hue<span class="info-icon">i</span></span> <span id="hueLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" style="background: linear-gradient(to right, hsl(0,70%,50%), hsl(60,70%,50%), hsl(120,70%,50%), hsl(180,70%,50%), hsl(240,70%,50%), hsl(300,70%,50%), hsl(360,70%,50%))"></div>
                        <input id="hue" type="range" min="0" max="1" step="0.01" value="0.78" />
                    </div>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="How far color is allowed to wander from its origin." data-label="Spectrum" data-i18n="control.spectrum" data-i18n-tooltip="control.spectrum.tooltip" data-i18n-label="control.spectrum">Spectrum<span class="info-icon">i</span></span> <span id="spectrumLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="spectrumTrack"></div>
                        <input id="spectrum" type="range" min="0" max="1" step="0.01" value="0.24" />
                    </div>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="The purity of pigment — dusty whisper to liquid jewel." data-label="Chroma" data-i18n="control.chroma" data-i18n-tooltip="control.chroma.tooltip" data-i18n-label="control.chroma">Chroma<span class="info-icon">i</span></span> <span id="chromaLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="chromaTrack"></div>
                        <input id="chroma" type="range" min="0" max="1" step="0.01" value="0.42" />
                    </div>
                </div>

                <!-- ── Space ── -->
                <div class="param-section-header">
                    <span class="label-info" data-tooltip="The directional organization of forms &mdash; flow patterns and structural coherence." data-i18n="section.space" data-i18n-tooltip="section.space.tooltip">Space<span class="info-icon">i</span></span>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="The discipline binding form to structure." data-label="Coherence" data-i18n="control.coherence" data-i18n-tooltip="control.coherence.tooltip" data-i18n-label="control.coherence">Coherence<span class="info-icon">i</span></span> <span id="coherenceLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="coherenceTrack"></div>
                        <input id="coherence" type="range" min="0" max="1" step="0.01" value="0.50" />
                    </div>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="The directional field pattern — radial starburst to noise to orbital bands." data-label="Flow" data-i18n="control.flow" data-i18n-tooltip="control.flow.tooltip" data-i18n-label="control.flow">Flow<span class="info-icon">i</span></span> <span id="flowLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="flowTrack"></div>
                        <input id="flow" type="range" min="0" max="1" step="0.01" value="0.50" />
                    </div>
                </div>

                <!-- ── Camera ── -->
                <div class="param-section-header">
                    <span class="label-info" data-tooltip="Static framing of the scene — zoom level and orbital rotation angle." data-i18n="section.camera" data-i18n-tooltip="section.camera.tooltip">Camera<span class="info-icon">i</span></span>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="How close or far the viewpoint is. Below 1.0 moves closer to the forms, above 1.0 moves further away." data-label="Zoom" data-i18n="control.zoom" data-i18n-tooltip="control.zoom.tooltip" data-i18n-label="control.zoom">Zoom<span class="info-icon">i</span></span> <span id="zoomLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="zoomTrack" style="background: linear-gradient(to right, #d4a048, #6090cc)"></div>
                        <input id="zoom" type="range" min="0.3" max="3.0" step="0.01" value="1.00" />
                    </div>
                </div>

                <div class="row">
                    <label><span class="label-info" data-tooltip="Orbital rotation angle around the scene center, in degrees. 360° wraps back to 0°." data-label="Rotation" data-i18n="control.rotation" data-i18n-tooltip="control.rotation.tooltip" data-i18n-label="control.rotation">Rotation<span class="info-icon">i</span></span> <span id="rotationLabel" class="slider-value"></span></label>
                    <div class="engine-slider">
                        <div class="slider-track-bg" id="rotationTrack" style="background: linear-gradient(to right, #6090cc, #8050cc, #6090cc)"></div>
                        <input id="rotation" type="range" min="0" max="360" step="1" value="0" />
                    </div>
                </div>

                <div class="row" style="display:none">
                    <label><span class="label-info" data-tooltip="The spatial architecture — how planes are arranged through the void." data-label="Topology" data-i18n="control.topology" data-i18n-tooltip="control.topology.tooltip" data-i18n-label="control.topology">Topology<span class="info-icon">i</span></span></label>
                    <input type="hidden" id="topology" value="flow-field" />
                    <div class="topology-selector" id="topologySelector">
                        <div class="topo-tile active" data-value="flow-field">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M3 17c3-4 6-2 9-6s6-2 9-6" stroke-linecap="round"/>
                                <path d="M3 12c3-3 6-1 9-5s6-1 9-5" stroke-linecap="round" opacity="0.5"/>
                                <path d="M3 22c3-4 6-2 9-6s6-2 9-6" stroke-linecap="round" opacity="0.3"/>
                            </svg>
                            <span class="topo-label" data-i18n="topology.flow">Flow</span>
                        </div>
                        <div class="topo-tile" data-value="icosahedral">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <polygon points="12,2 22,8 22,16 12,22 2,16 2,8" stroke-linejoin="round"/>
                                <line x1="12" y1="2" x2="12" y2="22" opacity="0.4"/>
                                <line x1="2" y1="8" x2="22" y2="16" opacity="0.4"/>
                                <line x1="22" y1="8" x2="2" y2="16" opacity="0.4"/>
                            </svg>
                            <span class="topo-label" data-i18n="topology.crystal">Crystal</span>
                        </div>
                        <div class="topo-tile" data-value="mobius">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M4 12c0-4 3-7 8-7s8 3 8 7-3 7-8 7-8-3-8-7" stroke-linecap="round"/>
                                <path d="M8 9c2 2 4 4 8 2" stroke-linecap="round" opacity="0.5"/>
                                <path d="M8 15c2-2 4-4 8-2" stroke-linecap="round" opacity="0.5"/>
                            </svg>
                            <span class="topo-label" data-i18n="topology.mobius">Möbius</span>
                        </div>
                        <div class="topo-tile" data-value="multi-attractor">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="7" cy="7" r="2.5" opacity="0.8"/>
                                <circle cx="17" cy="8" r="2" opacity="0.6"/>
                                <circle cx="10" cy="17" r="2.5" opacity="0.8"/>
                                <circle cx="18" cy="17" r="1.5" opacity="0.4"/>
                                <line x1="7" y1="7" x2="17" y2="8" stroke-dasharray="2 2" opacity="0.3"/>
                                <line x1="7" y1="7" x2="10" y2="17" stroke-dasharray="2 2" opacity="0.3"/>
                                <line x1="17" y1="8" x2="10" y2="17" stroke-dasharray="2 2" opacity="0.3"/>
                            </svg>
                            <span class="topo-label" data-i18n="topology.attractor">Attractor</span>
                        </div>
                    </div>
                </div>

                <div class="config-io-actions">
                    <button id="exportBtn" disabled data-tooltip="Export configuration (json)" data-i18n-tooltip="config.export.tooltip" data-tooltip-pos="above">
                        <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14"><path d="M8 10V2M4 5l4-4 4 4"/><path d="M2 12v2h12v-2"/></svg>
                        <span data-i18n="config.export">Export</span>
                    </button>
                    <button id="importBtn" data-tooltip="Import configuration (json)" data-i18n-tooltip="config.import.tooltip" data-tooltip-pos="above">
                        <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14"><path d="M8 2v8M4 7l4 4 4-4"/><path d="M2 12v2h12v-2"/></svg>
                        <span data-i18n="config.import">Import</span>
                    </button>
                </div>

                    </div>

            </section>

        </aside>
        <div class="panel-backdrop hidden" id="panelBackdrop"></div>

        <main class="stage">
            <div class="stage-content">
                <div class="stage-header">
                    <div class="stage-header-info">
                        <div class="display-name" id="displayName"></div>
                        <div class="display-intent" id="displayIntent"></div>
                    </div>
                    <div class="stage-header-btns">
                        <button id="historyBackBtn" data-tooltip="Previous image (view history)" data-i18n-tooltip="stage.prevHistory" disabled>
                            <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                                <path d="M10 3L5 8l5 5"/>
                            </svg>
                        </button>
                        <button class="config-randomize-btn" id="configRandomizeBtn"
                                data-tooltip="Randomize image" data-i18n-tooltip="stage.randomize">
                            <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                                <path d="M13.5 2.5v3.5h-3.5"/>
                                <path d="M2.5 8a5.5 5.5 0 0 1 9.37-3.9l1.63 1.9"/>
                                <path d="M2.5 13.5V10h3.5"/>
                                <path d="M13.5 8a5.5 5.5 0 0 1-9.37 3.9L2.5 10"/>
                            </svg>
                        </button>
                        <button id="historyForwardBtn" data-tooltip="Next image (view history)" data-i18n-tooltip="stage.nextHistory" disabled>
                            <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                                <path d="M6 3l5 5-5 5"/>
                            </svg>
                        </button>
                        <span class="stage-header-sep"></span>
                        <div class="settings-btn-wrap">
                            <button id="settingsBtn" data-tooltip="Settings" data-i18n-tooltip="stage.settings">
                                <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                                    <circle cx="8" cy="8" r="2"/>
                                    <path d="M8 1v2M8 13v2M1 8h2M13 8h2M2.93 2.93l1.41 1.41M11.66 11.66l1.41 1.41M13.07 2.93l-1.41 1.41M4.34 11.66l-1.41 1.41"/>
                                </svg>
                            </button>
                            <div id="settingsPopover" class="settings-popover hidden">
                                <!-- Image editor: no animation toggle or config -->
                            </div>
                        </div>
                        <div class="share-btn-wrap">
                            <button id="shareBtn" data-tooltip="Share this image" data-i18n-tooltip="stage.share" disabled>
                                <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                                    <circle cx="12" cy="3" r="2"/>
                                    <circle cx="4" cy="8" r="2"/>
                                    <circle cx="12" cy="13" r="2"/>
                                    <path d="M5.7 9.2l4.6 2.6M10.3 4.2L5.7 6.8"/>
                                </svg>
                            </button>
                            <div id="sharePopover" class="share-popover hidden">
                                <button class="share-option" id="shareCopyLink">
                                    <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                                        <path d="M6.5 9.5a3 3 0 0 0 4.24 0l2-2a3 3 0 0 0-4.24-4.24l-1 1"/>
                                        <path d="M9.5 6.5a3 3 0 0 0-4.24 0l-2 2a3 3 0 0 0 4.24 4.24l1-1"/>
                                    </svg>
                                    <span data-i18n="share.copyLink">Copy Link</span>
                                </button>
                                <button class="share-option" id="shareDownloadPng">
                                    <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                                        <path d="M8 2v9M4.5 8L8 11.5 11.5 8"/>
                                        <path d="M2.5 13.5h11"/>
                                    </svg>
                                    <span data-i18n="share.downloadVisual">Download Visual</span>
                                </button>
                                <div class="share-sep"></div>
                                <button class="share-option" id="shareTwitter">
                                    <svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14">
                                        <path d="M9.33 6.93L14.15 1.5h-1.14L8.83 6.18 5.47 1.5H1.5l5.06 7.37L1.5 14.5h1.14l4.42-5.14 3.53 5.14h3.97L9.33 6.93zm-1.57 1.82l-.51-.73L3.1 2.38h1.75l3.29 4.7.51.73 4.27 6.11h-1.75L7.76 8.75z"/>
                                    </svg>
                                    <span data-i18n="share.shareOnX">Share on X</span>
                                </button>
                                <button class="share-option" id="shareFacebook">
                                    <svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14">
                                        <path d="M14 8a6 6 0 1 0-6.94 5.93v-4.2H5.56V8h1.5V6.56c0-1.48.88-2.3 2.23-2.3.65 0 1.32.11 1.32.11V5.8h-.74c-.73 0-.96.46-.96.92V8h1.64l-.26 1.73h-1.38v4.2A6 6 0 0 0 14 8z"/>
                                    </svg>
                                    <span data-i18n="share.facebook">Facebook</span>
                                </button>
                                <button class="share-option" id="shareBluesky">
                                    <svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14">
                                        <path d="M3.47 2.34c1.58 1.19 3.28 3.6 3.98 4.89.7-1.3 2.4-3.7 3.98-4.89C12.52 1.52 15 .57 15 3.23c0 .53-.3 4.45-.48 5.08-.62 2.2-2.89 2.76-4.88 2.42 3.49.6 4.37 2.58 2.46 4.56-3.63 3.77-5.22-.95-5.63-2.16a3.3 3.3 0 0 1-.12-.39c-.02.12-.06.25-.12.4-.4 1.2-2 5.92-5.63 2.15-1.91-1.98-1.03-3.96 2.46-4.56-2-.34-4.26-.22-4.88-2.42C3.01 7.68 2.7 3.76 2.7 3.23c0-2.66 2.48-1.71 3.58-.89z"/>
                                    </svg>
                                    <span data-i18n="share.bluesky">Bluesky</span>
                                </button>
                                <button class="share-option" id="shareReddit">
                                    <svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14">
                                        <path d="M14.5 8a1.5 1.5 0 0 0-2.53-1.09 7.37 7.37 0 0 0-3.45-1.08l.7-2.48 1.92.43a1.07 1.07 0 1 0 .13-.63l-2.18-.49a.36.36 0 0 0-.42.25l-.8 2.85a7.52 7.52 0 0 0-3.6 1.08A1.5 1.5 0 1 0 2.17 9.1a2.7 2.7 0 0 0-.04.46c0 2.22 2.76 4.03 6.16 4.03s6.16-1.8 6.16-4.03c0-.15-.01-.3-.04-.45A1.5 1.5 0 0 0 14.5 8zM5.14 9.36a.93.93 0 1 1 1.86 0 .93.93 0 0 1-1.86 0zm5.37 2.52c-.67.47-1.55.7-2.51.7s-1.84-.23-2.51-.7a.36.36 0 0 1 .41-.58c.52.37 1.26.57 2.1.57s1.58-.2 2.1-.57a.36.36 0 0 1 .41.58zm-.22-1.6a.93.93 0 1 1 0-1.85.93.93 0 0 1 0 1.86z"/>
                                    </svg>
                                    <span data-i18n="share.reddit">Reddit</span>
                                </button>
                                <button class="share-option" id="shareLinkedIn">
                                    <svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14">
                                        <path d="M3.6 13.5H1.1V5.6h2.5v7.9zM2.35 4.55a1.45 1.45 0 1 1 0-2.9 1.45 1.45 0 0 1 0 2.9zM14.5 13.5H12v-3.85c0-.92-.02-2.1-1.28-2.1-1.28 0-1.48 1-1.48 2.03v3.92H6.76V5.6h2.38v1.08h.03c.33-.63 1.14-1.3 2.35-1.3 2.52 0 2.98 1.66 2.98 3.81v4.31z"/>
                                    </svg>
                                    <span data-i18n="share.linkedin">LinkedIn</span>
                                </button>
                                <div class="share-sep"></div>
                                <button class="share-option" id="shareEmail">
                                    <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">
                                        <rect x="1.5" y="3" width="13" height="10" rx="2"/>
                                        <path d="M1.5 5l6.5 4 6.5-4"/>
                                    </svg>
                                    <span data-i18n="share.email">Email</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="render-card" id="renderCard">
                    <div class="canvas-wrapper">
                        <canvas id="c" width="1400" height="900"></canvas>
                        <div id="canvasOverlay" class="canvas-overlay">
                            <div class="canvas-overlay-inner">
                                <div class="canvas-overlay-spinner"></div>
                                <span id="canvasOverlayText" class="canvas-overlay-text"></span>
                            </div>
                        </div>
                        <!-- morph timebar removed for image editor -->
                    </div>
                    <div class="generated-text-wrap" id="textWrap">
                        <div class="generated-text-inner" id="textInner">
                            <div class="generated-title" id="titleText"></div>
                            <div class="generated-alt" id="altText"></div>
                        </div>
                    </div>
                </div>
            </div>

        <footer class="app-footer"></footer>
        </main>
    </div>
    </div>

    <!-- Import modal (page-specific) -->
    <div id="importModal" class="modal-overlay hidden" role="dialog" aria-modal="true">
        <div class="modal-box" style="max-width: 30rem;">
            <div class="modal-header">
                <span class="modal-title">Import Profile</span>
                <button id="importModalClose" class="modal-close" aria-label="Close">
                    <div class="panel-toggle-icon">
                        <span class="bar bar-top"></span>
                        <span class="bar bar-mid"></span>
                        <span class="bar bar-bot"></span>
                    </div>
                </button>
            </div>
            <div class="modal-body" style="display: flex; flex-direction: column; gap: 1rem;">
                <div>
                    <div class="section-label">Upload JSON file</div>
                    <label class="file-drop-zone" id="fileDropZone" for="importFile">
                        <input type="file" id="importFile" accept=".json,application/json" />
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="17 8 12 3 7 8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        <span class="file-drop-text">Choose file or drag here</span>
                        <span class="file-drop-name" id="fileDropName"></span>
                    </label>
                </div>
                <div style="text-align: center; font-size: 0.6875rem; color: var(--text-muted);">or</div>
                <div>
                    <div class="section-label">Paste JSON</div>
                    <textarea id="importJson" rows="8" placeholder='{"Profile Name": {"seed": "...", "controls": {...}}}'></textarea>
                </div>
                <div id="importError" style="font-size: 0.75rem; color: #ff6666; display: none;"></div>
                <div class="confirm-actions">
                    <button id="importCancelBtn">Cancel</button>
                    <button id="importConfirmBtn" class="primary">Import</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shared modals, toast, tooltip created by JS (src/shared/create-shared-dom.js) -->
    <script type="module" src="/src/image/image-main.js"></script>
</body>

</html>
