/* ── Theme variables ── */
:root {
    --bg: #0b0d12;
    --bg-panel: rgba(255, 255, 255, 0.02);
    --text: #e9eefc;
    --text-muted: rgba(233, 238, 252, 0.75);
    --border: rgba(255, 255, 255, 0.08);
    --border-strong: rgba(255, 255, 255, 0.14);
    --surface: rgba(255, 255, 255, 0.03);
    --surface-hover: rgba(255, 255, 255, 0.06);
    --surface-active: rgba(255, 255, 255, 0.09);
    --accent: rgba(180, 130, 255, 0.35);
    --accent-bg: rgba(180, 130, 255, 0.16);
    --accent-text: rgb(180, 130, 255);
    --danger: rgba(255, 90, 90, 0.25);
    --shadow: rgba(0, 0, 0, 0.55);
    --modal-backdrop: rgba(0, 0, 0, 0.80);
    --modal-bg: #0f1219;
    --progress: rgba(180, 130, 255, 0.55);
}

html[data-theme="dark"] {
    color-scheme: dark;
}

html[data-theme="light"] {
    color-scheme: light;
    --bg: #f0f2f7;
    --bg-panel: rgba(0, 0, 0, 0.02);
    --text: #1a1e2e;
    --text-muted: rgba(26, 30, 46, 0.65);
    --border: rgba(0, 0, 0, 0.10);
    --border-strong: rgba(0, 0, 0, 0.18);
    --surface: rgba(0, 0, 0, 0.03);
    --surface-hover: rgba(0, 0, 0, 0.06);
    --surface-active: rgba(0, 0, 0, 0.10);
    --accent: rgba(120, 40, 200, 0.40);
    --accent-bg: rgba(120, 40, 200, 0.12);
    --accent-text: rgb(100, 30, 180);
    --danger: rgba(220, 50, 50, 0.25);
    --shadow: rgba(0, 0, 0, 0.15);
    --modal-backdrop: rgba(0, 0, 0, 0.50);
    --modal-bg: #ffffff;
    --progress: rgba(120, 40, 200, 0.55);
}

/* ── Universal box-sizing ── */
*, *::before, *::after { box-sizing: border-box; }

/* ── Smooth theme transitions ── */
body, .app-header, .app-footer, .panel, button, select, input, textarea,
.modal-box, .profile-card, .theme-switcher, .theme-slider {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* ── Base ── */
body {
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    background: var(--bg);
    color: var(--text);
    height: 100dvh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.app-container {
    max-width: 100rem;
    width: 100%;
    flex: 1;
    display: flex;
    flex-direction: column;
    border-left: 1px solid var(--border);
    border-right: 1px solid var(--border);
    min-height: 0;
}

/* ── Toast (base hiding — full styles in controls.css) ── */
.toast {
    opacity: 0;
    pointer-events: none;
    position: fixed;
    z-index: 9999;
}

/* ── Utility: hidden ── */
.hidden:not(.canvas-overlay):not(.share-popover):not(.settings-popover) {
    display: none !important;
}
